FROM node:lts

WORKDIR /back

ARG AMADEUS_CLIENT_ID
ENV AMADEUS_CLIENT_ID=${AMADEUS_CLIENT_ID}
ARG AMADEUS_CLIENT_SECRET
ENV AMADEUS_CLIENT_SECRET=${AMADEUS_CLIENT_SECRET}
ARG CORS_ALLOW
ENV CORS_ALLOW=${CORS_ALLOW}
ARG PORT
ENV PORT=${PORT}


EXPOSE $PORT

COPY package.json .

RUN npm i

COPY . .

CMD npm run serve
